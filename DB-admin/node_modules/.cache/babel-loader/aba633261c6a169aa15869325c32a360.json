{"remainingRequest":"C:\\Users\\lenovo\\Desktop\\vue-admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lenovo\\Desktop\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\lenovo\\Desktop\\vue-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lenovo\\Desktop\\vue-admin\\src\\views\\manage\\info.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lenovo\\Desktop\\vue-admin\\src\\views\\manage\\info.vue","mtime":1585839394000},{"path":"C:\\Users\\lenovo\\Desktop\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\vue-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\vue-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _typeof from \"C:/Users/lenovo/Desktop/vue-admin/node_modules/@babel/runtime/helpers/esm/typeof\";\nimport _defineProperty from \"C:/Users/lenovo/Desktop/vue-admin/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Upload from '@/components/Upload/image';\nimport { modify } from '@/api/admin';\nimport { mapGetters } from 'vuex';\nimport store from '@/store';\nimport myconfig from '@/config';\nexport default {\n  name: 'MyInfo',\n  components: {\n    Upload: Upload\n  },\n  data: function data() {\n    return {\n      btnLoading: false,\n      temp: {\n        password: '',\n        realName: store.getters.realName,\n        phone: store.getters.phone,\n        email: store.getters.email,\n        img: [store.getters.avatar]\n      },\n      config: {\n        fileName: 'img',\n        limit: 1,\n        multiple: true,\n        accept: 'image/*',\n        action: myconfig.uploadUrl.img\n      }\n    };\n  },\n  computed: _objectSpread({}, mapGetters(['name', 'group'])),\n  watch: {\n    temp: {\n      handler: function handler(newVal, oldVal) {},\n      immediate: true,\n      deep: true\n    }\n  },\n  created: function created() {},\n  destroyed: function destroyed() {},\n  methods: {\n    saveData: function saveData() {\n      var _this2 = this;\n\n      this.btnLoading = true;\n      this.$refs['dataForm'].validate(function (valid) {\n        if (valid) {\n          var _this = _this2;\n          var d = _this2.temp;\n\n          if (_typeof(d.img) === 'object') {\n            d.img = d.img.join(',');\n          }\n\n          modify(d).then(function (response) {\n            if (response.status === 1) {\n              store.commit('SET_AVATAR', _this.temp.img);\n              store.commit('SET_REALNAME', _this.temp.realName);\n              store.commit('SET_PHONE', _this.temp.phone);\n              store.commit('SET_EMAIL', _this.temp.email);\n\n              _this.$message.success(response.msg);\n            } else {\n              _this.$message.error(response.msg);\n            }\n\n            _this.btnLoading = false;\n          }).catch(function (error) {\n            _this2.btnLoading = false;\n          });\n        } else {\n          _this2.btnLoading = false;\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["info.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form ref=\"dataForm\" :model=\"temp\" label-position=\"left\" label-width=\"70px\" style=\"width: 100%; \">\n      <el-form-item label=\"角色\" prop=\"groupId\">\n        <el-input v-model=\"group\" :disabled=\"true\"/>\n      </el-form-item>\n      <el-form-item label=\"账号\" prop=\"userName\">\n        <el-input v-model=\"name\" :disabled=\"true\"/>\n      </el-form-item>\n      <el-form-item label=\"密码\" prop=\"password\">\n        <el-input v-model=\"temp.password\" clearable placeholder=\"不修改，则留空\"/>\n      </el-form-item>\n      <el-form-item label=\"头像\" prop=\"img\">\n        <Upload v-model=\"temp.img\" :config=\"config\"/>\n      </el-form-item>\n      <el-form-item label=\"姓名\" prop=\"realName\">\n        <el-input v-model=\"temp.realName\" clearable/>\n      </el-form-item>\n      <el-form-item label=\"手机\" prop=\"phone\">\n        <el-input v-model=\"temp.phone\" clearable/>\n      </el-form-item>\n      <el-form-item label=\"邮箱\" prop=\"email\">\n        <el-input v-model=\"temp.email\" clearable/>\n      </el-form-item>\n    </el-form>\n    <el-button :loading=\"btnLoading\" type=\"primary\" @click=\"saveData()\">保存</el-button>\n  </div>\n</template>\n\n<script>\nimport Upload from '@/components/Upload/image'\nimport { modify } from '@/api/admin'\nimport { mapGetters } from 'vuex'\nimport store from '@/store'\nimport myconfig from '@/config'\n\nexport default {\n  name: 'MyInfo',\n  components: { Upload },\n  data() {\n    return {\n      btnLoading: false,\n      temp: {\n        password: '',\n        realName: store.getters.realName,\n        phone: store.getters.phone,\n        email: store.getters.email,\n        img: [store.getters.avatar]\n      },\n      config: {\n        fileName: 'img',\n        limit: 1,\n        multiple: true,\n        accept: 'image/*',\n        action: myconfig.uploadUrl.img\n      }\n\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'name',\n      'group'\n    ])\n  },\n  watch: {\n    temp: {\n      handler(newVal, oldVal) {},\n      immediate: true,\n      deep: true\n    }\n  },\n  created() {\n\n  },\n  destroyed() {\n\n  },\n  methods: {\n    saveData() {\n      this.btnLoading = true\n      this.$refs['dataForm'].validate((valid) => {\n        if (valid) {\n          const _this = this\n          const d = this.temp\n          if (typeof (d.img) === 'object') {\n            d.img = d.img.join(',')\n          }\n          modify(d).then(response => {\n            if (response.status === 1) {\n              store.commit('SET_AVATAR', _this.temp.img)\n              store.commit('SET_REALNAME', _this.temp.realName)\n              store.commit('SET_PHONE', _this.temp.phone)\n              store.commit('SET_EMAIL', _this.temp.email)\n              _this.$message.success(response.msg)\n            } else {\n              _this.$message.error(response.msg)\n            }\n            _this.btnLoading = false\n          }).catch((error) => {\n            this.btnLoading = false\n          })\n        } else {\n          this.btnLoading = false\n        }\n      })\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views/manage"}]}