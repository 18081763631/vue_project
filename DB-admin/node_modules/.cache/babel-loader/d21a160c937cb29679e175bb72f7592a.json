{"remainingRequest":"C:\\Users\\lenovo\\Desktop\\vue-admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lenovo\\Desktop\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\lenovo\\Desktop\\vue-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lenovo\\Desktop\\vue-admin\\src\\views\\user\\userhome.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lenovo\\Desktop\\vue-admin\\src\\views\\user\\userhome.vue","mtime":1596784216752},{"path":"C:\\Users\\lenovo\\Desktop\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\vue-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\vue-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getlist, banhuati as _banhuati, gethuati, getdata, gettopics } from '@/api/user';\nexport default {\n  data: function data() {\n    return {\n      list: [],\n      listpage: 0,\n      //总页数\n      page: 1,\n      //当前页数\n      tape: 0,\n      postdata: {\n        id: \"\"\n      }\n    };\n  },\n  created: function created() {\n    this.huati();\n  },\n  inject: ['reload'],\n  methods: {\n    banhuati: function banhuati(a) {\n      console.log(a);\n      this.postdata.id = a;\n\n      _banhuati(this.postdata).then(function (res) {});\n\n      this.reload();\n      this.$message({\n        message: '删除成功',\n        type: 'success'\n      });\n    },\n    huati: function huati() {\n      var _this = this;\n\n      var that = this;\n      getdata(this.listQuery).then(function (res) {\n        /* 获取总页数 */\n        that.lastpage = res.data.last_page;\n        console.log(\"huati\");\n        console.log(res.data.data);\n        var datas = res.data.data;\n\n        _this.$set(_this.list, 0, datas);\n      });\n      console.log(\"list\");\n      console.log(that.list);\n    },\n    gengduo: function gengduo(a) {\n      var that = this;\n\n      if (that.page <= that.lastpage) {\n        console.log(\"页数\");\n        console.log(a);\n        that.page = a;\n        gettopics(that.page).then(function (res) {\n          console.log(res);\n          that.list = list + res.data.data;\n        });\n      } else {\n        this.$message({\n          message: '已加载全部',\n          type: 'success'\n        });\n      }\n    },\n    go: function go() {\n      this.$router.push('/pinglun');\n    }\n  }\n};",{"version":3,"sources":["userhome.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA,SAAA,OAAA,EAAA,QAAA,IAAA,SAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,QAAA,YAAA;AACA,eAAA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,CAFA;AAEA;AACA,MAAA,IAAA,EAAA,CAHA;AAGA;AACA,MAAA,IAAA,EAAA,CAJA;AAKA,MAAA,QAAA,EAAA;AACA,QAAA,EAAA,EAAA;AADA;AALA,KAAA;AASA,GAZA;AAaA,EAAA,OAbA,qBAaA;AACA,SAAA,KAAA;AACA,GAfA;AAgBA,EAAA,MAAA,EAAA,CAAA,QAAA,CAhBA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,CADA,EACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,WAAA,QAAA,CAAA,EAAA,GAAA,CAAA;;AACA,MAAA,SAAA,CAAA,KAAA,QAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA,CAGA,CAHA;;AAIA,WAAA,MAAA;AACA,WAAA,QAAA,CAAA;AACA,QAAA,OAAA,EAAA,MADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAAA;AAIA,KAbA;AAcA,IAAA,KAdA,mBAcA;AAAA;;AACA,UAAA,IAAA,GAAA,IAAA;AACA,MAAA,OAAA,CAAA,KAAA,SAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA;AACA,QAAA,IAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,SAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,OAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,YAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,IAAA,EAAA,CAAA,EAAA,KAAA;AACA,OAPA;AAQA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,KA1BA;AA2BA,IAAA,OA3BA,mBA2BA,CA3BA,EA2BA;AACA,UAAA,IAAA,GAAA,IAAA;;AACA,UAAA,IAAA,CAAA,IAAA,IAAA,IAAA,CAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,QAAA,IAAA,CAAA,IAAA,GAAA,CAAA;AACA,QAAA,SAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,UAAA,IAAA,CAAA,IAAA,GAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AAEA,SAJA;AAKA,OATA,MAUA;AACA,aAAA,QAAA,CAAA;AACA,UAAA,OAAA,EAAA,OADA;AAEA,UAAA,IAAA,EAAA;AAFA,SAAA;AAIA;AAEA,KA9CA;AA+CA,IAAA,EA/CA,gBA+CA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,UAAA;AACA;AAjDA;AAjBA,CAAA","sourcesContent":["<template>\r\n\t<el-row style=\"margin: auto;display: flex;margin-top: 50px;flex-direction: row;flex-wrap: wrap;\">\r\n\t  <el-row v-for=\"(item, i) in list\"  :key=\"i\" align=\"bottom\" style=\"display: flex;margin-left: 10px;\" >\r\n\t  \r\n\t    <el-card :body-style=\"{ padding: '0px' }\" style=\"width: 400px;padding: 20px;\">\r\n\t\t\t<div style=\"display: flex;justify-content: space-between;\">\r\n\t\t\t\t<!-- 用户信息 -->\r\n\t\t\t\t<div style=\"display: flex;flex-direction: row;\">\r\n\t\t\t\t\t\t  <img :src=\"item.user[0].img\" class=\"\" style=\"width: 50px;height: 50px;\">\r\n\t\t\t\t    <div style=\"display: flex;flex-direction: column;margin: 10px;\">\r\n\t\t\t\t\t\t\t\t  <div>{{ item.user[0].userName }}</div>\r\n\t\t\t\t\t\t\t\t  <div style=\"color: #bcbcbc;margin: 10px;\">{{ item.created_at }}</div>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- 下拉 -->\r\n\t\t\t\t<!-- <el-dropdown>\r\n\t\t\t\t      <span class=\"el-dropdown-link\">\r\n\t\t\t\t        <i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n\t\t\t\t      </span>\r\n\t\t\t\t      <el-dropdown-menu slot=\"dropdown\">\r\n\t\t\t\t        <el-dropdown-item>删除</el-dropdown-item>\r\n\t\t\t\t        <el-dropdown-item>推广</el-dropdown-item>\r\n\t\t\t\t      </el-dropdown-menu>\r\n\t\t\t\t</el-dropdown> -->\r\n\t\t\t</div>\r\n\t\t\t<!-- 话题文字 -->\r\n\t\t\t<div style=\"color: #13CE66;font-weight:600;\" v-if=\"{{item.topic[0].topic}}\">#{{ item.topic[0].topic }}</div>\r\n\t\t\t<!-- 内容 -->\r\n\t\t\t<div style=\"display: flex;margin-top: 5px;flex-wrap: wrap;\">\r\n\t\t\t\t<div style=\"flex-wrap: wrap;\">{{ item.content }}</div>\r\n\t\t\t\t<div v-for=\"(t,j) in item.action\" :key=\"j\" style=\"display: flex;flex-wrap: wrap;\" v-if=\"t.type == 1\" >\r\n\t\t\t\t\t<div style=\"flex-wrap: wrap;\">@ {{ t.bName }} </div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<!-- 图片 -->\r\n\t\t  <div v-for=\"(img,j) in item.img\"  :key=\"j\" style=\"margin-top: 5px;\">\r\n\t\t  \t<img :src=\"img.src\" class=\"image\" >\r\n\t\t  </div>\r\n\t\t  \r\n\t\t  <div style=\"display: flex;flex-direction: row;justify-content: space-between;margin: 14px;\">\r\n\t\t\t  <!-- 点赞人数 -->\r\n\t\t\t  <div style=\"display: flex;flex-direction: row;margin-top: 5px;\">\r\n\t\t\t  \t\t\t  <div style=\"\">点赞人数：</div>\r\n\t\t\t  \t\t\t   <div style=\"color: #ff0000;\">{{ item.parise_number }}</div>\r\n\t\t\t  </div>\r\n\t\t\t  <!-- 评论条数 -->\r\n\t\t\t  <div style=\"display: flex;flex-direction: row;margin-top: 5px;\">\r\n\t\t\t  \t\t\t  <div style=\"\">评论条数：</div>\r\n\t\t\t  \t\t\t   <div style=\"color: #ff0000;\">{{ item.comment_number }}</div>\r\n\t\t\t  </div>\r\n\t\t  </div>\r\n\t\t  <!-- 评论 -->\r\n\t\t\t <ul class=\"infinite-list\" v-infinite-scroll=\"load\" style=\"overflow:auto;margin-left: -25px;\">\r\n\t\t\t     <div v-for=\"(pl,e) in item.action\" :key=\"e\" v-if=\"pl.type == 3\">\r\n\t\t\t\t\t<div style=\"display: flex;flex-direction: row;\" v-if=\"item.user[0].openId!=pl.b && pl.a != pl.b\">\r\n\t\t\t\t\t\t <div style=\"color: #13CE66;\">{{pl.aName}}</div>\r\n\t\t\t\t\t\t <div style=\"color: #b0b0b0;margin-left: 4px;\">回复</div>\r\n\t\t\t\t\t\t <div style=\"color: #13CE66;margin-left: 4px;\">{{pl.bName}}:</div>\r\n\t\t\t\t\t\t <div style=\"color: #b0b0b0;margin-left: 4px;\">{{pl.txt}}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style=\"display: flex;flex-direction: row;\" v-if=\"item.user[0].openId==pl.b || pl.a == pl.b\">\r\n\t\t\t\t\t\t <div style=\"color: #13CE66;\">{{pl.aName}}</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t <div style=\"color: #13CE66;margin-left:4px;\">:</div>\r\n\t\t\t\t\t\t <div style=\"color: #b0b0b0;margin-left: 4px;\">{{pl.txt}}</div>\r\n\t\t\t\t\t</div> \r\n\t\t\t\t </div>\r\n\t\t\t\t \r\n\t\t\t   </ul>\r\n\t\t\t<!-- 评论2 -->\r\n\t\t\t<ul class=\"infinite-list\" v-infinite-scroll=\"load\" style=\"overflow:auto;margin-left: -25px;\">\r\n\t\t\t    <div v-for=\"(pl,e) in item.action\" :key=\"e\" v-if=\"pl.type == 3\">\r\n\t\t\t\t\t<div style=\"display: flex;flex-direction: row;\" v-if=\"item.user[0].openId==pl.b || pl.a == pl.b\">\r\n\t\t\t\t\t\t <div style=\"color: #13CE66;\">{{pl.aName}}</div>\r\n\t\t\t\t\t\t <div style=\"color: #13CE66;margin-left:4px;\">:</div>\r\n\t\t\t\t\t\t <div style=\"color: #b0b0b0;margin-left: 4px;\">{{pl.txt}}</div>\r\n\t\t\t\t\t</div> \r\n\t\t\t\t\t<!-- 评论条数 -->\r\n\t\t\t\t\t\t<div style=\"display: flex;flex-direction: row;background-color: #b4b4b4;padding: 5px;margin-top: 5px;\" @click=\"go\">\r\n\t\t\t\t\t\t\t<div style=\"color: #0000FF;\">共有{{ item.comment_number }}条回复</div>\r\n\t\t\t\t\t\t\t<div style=\"color: #0000FF;margin-left: 10px;\">></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\t \r\n\t\t\t</ul>\r\n\t      <div style=\"padding: 14px;\">\r\n\t\t\t \r\n\t       \r\n\t        <div class=\"bottom clearfix\">\r\n\t\t\t\t \r\n\t          <el-button type=\"danger\" round class=\"button\" @click=\"banhuati(item.id)\" style=\"letter-spacing: 5px;\">删除</el-button>\r\n\t        </div>\r\n\t      </div>\r\n\t    </el-card>\r\n\t  </el-row>\r\n\t</el-row>\r\n\t<div style=\"display: flex;margin-left: auto;margin-right: auto;\" v-if=\"{{page <= listpage}}\" @click=\"gengduo(page)\">——————加载更多——————</div>\r\n\t<div style=\"display: flex;margin-left: auto;margin-right: auto;\" v-else>——————已加载全部——————</div>\n</template>\n\n<script>\r\n\timport { getlist , banhuati , gethuati , getdata, gettopics} from '@/api/user'\r\n\texport default {\r\n\t\t\r\n\t  data() {\r\n\t    return {\r\n\t      list:[],\r\n\t\t listpage:0,//总页数\r\n\t\t page:1,//当前页数\r\n\t\t  tape:0,\r\n\t\t  postdata:{\r\n\t\t  \t\t id:\"\"\r\n\t\t  }\r\n\t    }\r\n\t  },\r\n\t  created() {\r\n\t\tthis.huati()\r\n\t  },\r\n\t  inject:['reload'],\r\n\t  methods: {\r\n\t\tbanhuati(a){\r\n\t\t\tconsole.log(a)\r\n\t\t\tthis.postdata.id = a\r\n\t\t\tbanhuati(this.postdata).then(res => {\r\n\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t})\r\n\t\t\tthis.reload()\r\n\t\t\tthis.$message({\r\n\t\t\t          message: '删除成功',\r\n\t\t\t          type: 'success'\r\n\t\t\t        })\r\n\t\t},\r\n\t\thuati() {\r\n\t\t\tvar that = this\r\n\t\t\tgetdata(this.listQuery).then(res => {\r\n\t\t\t\t/* 获取总页数 */\r\n\t\t\t\tthat.lastpage = res.data.last_page\r\n\t\t\t\tconsole.log(\"huati\");\r\n\t\t\t  console.log(res.data.data)\r\n\t\t\t  var datas = res.data.data\r\n\t\t\t  this.$set(this.list,0,datas)\r\n\t\t\t})\r\n\t\t\tconsole.log(\"list\");\r\n\t\t\tconsole.log(that.list);\r\n\t\t},\r\n\t\tgengduo(a){\r\n\t\t\tvar that = this\r\n\t\t\tif(that.page <= that.lastpage){\r\n\t\t\t\tconsole.log(\"页数\");\r\n\t\t\t\tconsole.log(a)\r\n\t\t\t\tthat.page = a\r\n\t\t\t\tgettopics(that.page).then(res => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tthat.list = list + res.data.data\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t          message: '已加载全部',\r\n\t\t\t\t          type: 'success'\r\n\t\t\t\t        })\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tgo(){\r\n\t\t\tthis.$router.push('/pinglun')\r\n\t\t}\r\n\t}\r\n\t}\r\n\t\r\n\n</script>\n\n<style>\r\n\t .time {\r\n\t    font-size: 13px;\r\n\t    color: #999;\r\n\t  }\r\n\t  \r\n\t  .bottom {\r\n\t    margin-top: 13px;\r\n\t    line-height: 12px;\r\n\t  }\r\n\t\r\n\t  .button {\r\n\t    padding: 0;\r\n\t    float: right;\r\n\t  }\r\n\t\r\n\t  .image {\r\n\t    width: 100%;\r\n\t    display: block;\r\n\t  }\r\n\t\r\n\t  .clearfix:before,\r\n\t  .clearfix:after {\r\n\t      display: table;\r\n\t      content: \"\";\r\n\t  }\r\n\t  \r\n\t  .clearfix:after {\r\n\t      clear: both\r\n\t  }\n</style>\n"],"sourceRoot":"src/views/user"}]}