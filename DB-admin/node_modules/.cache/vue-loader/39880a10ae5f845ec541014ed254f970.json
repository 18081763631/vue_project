{"remainingRequest":"C:\\Users\\lenovo\\Desktop\\vue-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lenovo\\Desktop\\vue-admin\\src\\views\\user\\userhome.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lenovo\\Desktop\\vue-admin\\src\\views\\user\\userhome.vue","mtime":1596784216752},{"path":"C:\\Users\\lenovo\\Desktop\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\vue-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\vue-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { getlist , banhuati , gethuati , getdata, gettopics} from '@/api/user'\nexport default {\n\t\n  data() {\n    return {\n      list:[],\n\t listpage:0,//总页数\n\t page:1,//当前页数\n\t  tape:0,\n\t  postdata:{\n\t  \t\t id:\"\"\n\t  }\n    }\n  },\n  created() {\n\tthis.huati()\n  },\n  inject:['reload'],\n  methods: {\n\tbanhuati(a){\n\t\tconsole.log(a)\n\t\tthis.postdata.id = a\n\t\tbanhuati(this.postdata).then(res => {\n\t\t\n\t\t\t\t\n\t\t})\n\t\tthis.reload()\n\t\tthis.$message({\n\t\t          message: '删除成功',\n\t\t          type: 'success'\n\t\t        })\n\t},\n\thuati() {\n\t\tvar that = this\n\t\tgetdata(this.listQuery).then(res => {\n\t\t\t/* 获取总页数 */\n\t\t\tthat.lastpage = res.data.last_page\n\t\t\tconsole.log(\"huati\");\n\t\t  console.log(res.data.data)\n\t\t  var datas = res.data.data\n\t\t  this.$set(this.list,0,datas)\n\t\t})\n\t\tconsole.log(\"list\");\n\t\tconsole.log(that.list);\n\t},\n\tgengduo(a){\n\t\tvar that = this\n\t\tif(that.page <= that.lastpage){\n\t\t\tconsole.log(\"页数\");\n\t\t\tconsole.log(a)\n\t\t\tthat.page = a\n\t\t\tgettopics(that.page).then(res => {\n\t\t\tconsole.log(res);\n\t\t\t\tthat.list = list + res.data.data\n\t\t\t\t\n\t\t\t})\n\t\t}\n\t\telse{\n\t\t\tthis.$message({\n\t\t\t          message: '已加载全部',\n\t\t\t          type: 'success'\n\t\t\t        })\n\t\t}\n\t\t\n\t},\n\tgo(){\n\t\tthis.$router.push('/pinglun')\n\t}\n}\n}\n\n\n",{"version":3,"sources":["userhome.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"userhome.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\r\n\t<el-row style=\"margin: auto;display: flex;margin-top: 50px;flex-direction: row;flex-wrap: wrap;\">\r\n\t  <el-row v-for=\"(item, i) in list\"  :key=\"i\" align=\"bottom\" style=\"display: flex;margin-left: 10px;\" >\r\n\t  \r\n\t    <el-card :body-style=\"{ padding: '0px' }\" style=\"width: 400px;padding: 20px;\">\r\n\t\t\t<div style=\"display: flex;justify-content: space-between;\">\r\n\t\t\t\t<!-- 用户信息 -->\r\n\t\t\t\t<div style=\"display: flex;flex-direction: row;\">\r\n\t\t\t\t\t\t  <img :src=\"item.user[0].img\" class=\"\" style=\"width: 50px;height: 50px;\">\r\n\t\t\t\t    <div style=\"display: flex;flex-direction: column;margin: 10px;\">\r\n\t\t\t\t\t\t\t\t  <div>{{ item.user[0].userName }}</div>\r\n\t\t\t\t\t\t\t\t  <div style=\"color: #bcbcbc;margin: 10px;\">{{ item.created_at }}</div>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- 下拉 -->\r\n\t\t\t\t<!-- <el-dropdown>\r\n\t\t\t\t      <span class=\"el-dropdown-link\">\r\n\t\t\t\t        <i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n\t\t\t\t      </span>\r\n\t\t\t\t      <el-dropdown-menu slot=\"dropdown\">\r\n\t\t\t\t        <el-dropdown-item>删除</el-dropdown-item>\r\n\t\t\t\t        <el-dropdown-item>推广</el-dropdown-item>\r\n\t\t\t\t      </el-dropdown-menu>\r\n\t\t\t\t</el-dropdown> -->\r\n\t\t\t</div>\r\n\t\t\t<!-- 话题文字 -->\r\n\t\t\t<div style=\"color: #13CE66;font-weight:600;\" v-if=\"{{item.topic[0].topic}}\">#{{ item.topic[0].topic }}</div>\r\n\t\t\t<!-- 内容 -->\r\n\t\t\t<div style=\"display: flex;margin-top: 5px;flex-wrap: wrap;\">\r\n\t\t\t\t<div style=\"flex-wrap: wrap;\">{{ item.content }}</div>\r\n\t\t\t\t<div v-for=\"(t,j) in item.action\" :key=\"j\" style=\"display: flex;flex-wrap: wrap;\" v-if=\"t.type == 1\" >\r\n\t\t\t\t\t<div style=\"flex-wrap: wrap;\">@ {{ t.bName }} </div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<!-- 图片 -->\r\n\t\t  <div v-for=\"(img,j) in item.img\"  :key=\"j\" style=\"margin-top: 5px;\">\r\n\t\t  \t<img :src=\"img.src\" class=\"image\" >\r\n\t\t  </div>\r\n\t\t  \r\n\t\t  <div style=\"display: flex;flex-direction: row;justify-content: space-between;margin: 14px;\">\r\n\t\t\t  <!-- 点赞人数 -->\r\n\t\t\t  <div style=\"display: flex;flex-direction: row;margin-top: 5px;\">\r\n\t\t\t  \t\t\t  <div style=\"\">点赞人数：</div>\r\n\t\t\t  \t\t\t   <div style=\"color: #ff0000;\">{{ item.parise_number }}</div>\r\n\t\t\t  </div>\r\n\t\t\t  <!-- 评论条数 -->\r\n\t\t\t  <div style=\"display: flex;flex-direction: row;margin-top: 5px;\">\r\n\t\t\t  \t\t\t  <div style=\"\">评论条数：</div>\r\n\t\t\t  \t\t\t   <div style=\"color: #ff0000;\">{{ item.comment_number }}</div>\r\n\t\t\t  </div>\r\n\t\t  </div>\r\n\t\t  <!-- 评论 -->\r\n\t\t\t <ul class=\"infinite-list\" v-infinite-scroll=\"load\" style=\"overflow:auto;margin-left: -25px;\">\r\n\t\t\t     <div v-for=\"(pl,e) in item.action\" :key=\"e\" v-if=\"pl.type == 3\">\r\n\t\t\t\t\t<div style=\"display: flex;flex-direction: row;\" v-if=\"item.user[0].openId!=pl.b && pl.a != pl.b\">\r\n\t\t\t\t\t\t <div style=\"color: #13CE66;\">{{pl.aName}}</div>\r\n\t\t\t\t\t\t <div style=\"color: #b0b0b0;margin-left: 4px;\">回复</div>\r\n\t\t\t\t\t\t <div style=\"color: #13CE66;margin-left: 4px;\">{{pl.bName}}:</div>\r\n\t\t\t\t\t\t <div style=\"color: #b0b0b0;margin-left: 4px;\">{{pl.txt}}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style=\"display: flex;flex-direction: row;\" v-if=\"item.user[0].openId==pl.b || pl.a == pl.b\">\r\n\t\t\t\t\t\t <div style=\"color: #13CE66;\">{{pl.aName}}</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t <div style=\"color: #13CE66;margin-left:4px;\">:</div>\r\n\t\t\t\t\t\t <div style=\"color: #b0b0b0;margin-left: 4px;\">{{pl.txt}}</div>\r\n\t\t\t\t\t</div> \r\n\t\t\t\t </div>\r\n\t\t\t\t \r\n\t\t\t   </ul>\r\n\t\t\t<!-- 评论2 -->\r\n\t\t\t<ul class=\"infinite-list\" v-infinite-scroll=\"load\" style=\"overflow:auto;margin-left: -25px;\">\r\n\t\t\t    <div v-for=\"(pl,e) in item.action\" :key=\"e\" v-if=\"pl.type == 3\">\r\n\t\t\t\t\t<div style=\"display: flex;flex-direction: row;\" v-if=\"item.user[0].openId==pl.b || pl.a == pl.b\">\r\n\t\t\t\t\t\t <div style=\"color: #13CE66;\">{{pl.aName}}</div>\r\n\t\t\t\t\t\t <div style=\"color: #13CE66;margin-left:4px;\">:</div>\r\n\t\t\t\t\t\t <div style=\"color: #b0b0b0;margin-left: 4px;\">{{pl.txt}}</div>\r\n\t\t\t\t\t</div> \r\n\t\t\t\t\t<!-- 评论条数 -->\r\n\t\t\t\t\t\t<div style=\"display: flex;flex-direction: row;background-color: #b4b4b4;padding: 5px;margin-top: 5px;\" @click=\"go\">\r\n\t\t\t\t\t\t\t<div style=\"color: #0000FF;\">共有{{ item.comment_number }}条回复</div>\r\n\t\t\t\t\t\t\t<div style=\"color: #0000FF;margin-left: 10px;\">></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\t \r\n\t\t\t</ul>\r\n\t      <div style=\"padding: 14px;\">\r\n\t\t\t \r\n\t       \r\n\t        <div class=\"bottom clearfix\">\r\n\t\t\t\t \r\n\t          <el-button type=\"danger\" round class=\"button\" @click=\"banhuati(item.id)\" style=\"letter-spacing: 5px;\">删除</el-button>\r\n\t        </div>\r\n\t      </div>\r\n\t    </el-card>\r\n\t  </el-row>\r\n\t</el-row>\r\n\t<div style=\"display: flex;margin-left: auto;margin-right: auto;\" v-if=\"{{page <= listpage}}\" @click=\"gengduo(page)\">——————加载更多——————</div>\r\n\t<div style=\"display: flex;margin-left: auto;margin-right: auto;\" v-else>——————已加载全部——————</div>\n</template>\n\n<script>\r\n\timport { getlist , banhuati , gethuati , getdata, gettopics} from '@/api/user'\r\n\texport default {\r\n\t\t\r\n\t  data() {\r\n\t    return {\r\n\t      list:[],\r\n\t\t listpage:0,//总页数\r\n\t\t page:1,//当前页数\r\n\t\t  tape:0,\r\n\t\t  postdata:{\r\n\t\t  \t\t id:\"\"\r\n\t\t  }\r\n\t    }\r\n\t  },\r\n\t  created() {\r\n\t\tthis.huati()\r\n\t  },\r\n\t  inject:['reload'],\r\n\t  methods: {\r\n\t\tbanhuati(a){\r\n\t\t\tconsole.log(a)\r\n\t\t\tthis.postdata.id = a\r\n\t\t\tbanhuati(this.postdata).then(res => {\r\n\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t})\r\n\t\t\tthis.reload()\r\n\t\t\tthis.$message({\r\n\t\t\t          message: '删除成功',\r\n\t\t\t          type: 'success'\r\n\t\t\t        })\r\n\t\t},\r\n\t\thuati() {\r\n\t\t\tvar that = this\r\n\t\t\tgetdata(this.listQuery).then(res => {\r\n\t\t\t\t/* 获取总页数 */\r\n\t\t\t\tthat.lastpage = res.data.last_page\r\n\t\t\t\tconsole.log(\"huati\");\r\n\t\t\t  console.log(res.data.data)\r\n\t\t\t  var datas = res.data.data\r\n\t\t\t  this.$set(this.list,0,datas)\r\n\t\t\t})\r\n\t\t\tconsole.log(\"list\");\r\n\t\t\tconsole.log(that.list);\r\n\t\t},\r\n\t\tgengduo(a){\r\n\t\t\tvar that = this\r\n\t\t\tif(that.page <= that.lastpage){\r\n\t\t\t\tconsole.log(\"页数\");\r\n\t\t\t\tconsole.log(a)\r\n\t\t\t\tthat.page = a\r\n\t\t\t\tgettopics(that.page).then(res => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tthat.list = list + res.data.data\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t          message: '已加载全部',\r\n\t\t\t\t          type: 'success'\r\n\t\t\t\t        })\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tgo(){\r\n\t\t\tthis.$router.push('/pinglun')\r\n\t\t}\r\n\t}\r\n\t}\r\n\t\r\n\n</script>\n\n<style>\r\n\t .time {\r\n\t    font-size: 13px;\r\n\t    color: #999;\r\n\t  }\r\n\t  \r\n\t  .bottom {\r\n\t    margin-top: 13px;\r\n\t    line-height: 12px;\r\n\t  }\r\n\t\r\n\t  .button {\r\n\t    padding: 0;\r\n\t    float: right;\r\n\t  }\r\n\t\r\n\t  .image {\r\n\t    width: 100%;\r\n\t    display: block;\r\n\t  }\r\n\t\r\n\t  .clearfix:before,\r\n\t  .clearfix:after {\r\n\t      display: table;\r\n\t      content: \"\";\r\n\t  }\r\n\t  \r\n\t  .clearfix:after {\r\n\t      clear: both\r\n\t  }\n</style>\n"]}]}